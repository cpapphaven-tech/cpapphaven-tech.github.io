<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” Burger Stack 3D - Stack the Ultimate Burger! | PlayMixGames</title>
    <meta name="description"
        content="Stack the ultimate burger! Tap to drop ingredients and build the tallest burger tower. Addictive 3D stacking game for all ages!">
    <link rel="stylesheet" href="style.css">

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6129521314653726"
        crossorigin="anonymous"></script>

    <!-- Firebase Analytics -->
    <script type="module" src="../analytics.js"></script>

    <!-- Load Ads Script -->
    <script src="../ads.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            loadSocialBarAd();
            renderTopRightScroller();
        });
    </script>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>

<body>
    <div id="welcome-overlay" class="welcome-overlay">
        <div class="welcome-content">
            <span class="welcome-icon">ğŸ®</span>
            <span class="welcome-text">Get Ready for Fun! ğŸ”µ Starting your game...</span>
        </div>
    </div>

    <script>
        setTimeout(() => {
            const welcomeMsg = document.getElementById('welcome-overlay');
            if (welcomeMsg) {
                welcomeMsg.classList.add('fade-out');
                setTimeout(() => welcomeMsg.remove(), 1000);
            }
        }, 2000);
    </script>
    <!-- Header -->
    <header>
        <a href="../index.html" class="back-btn">â† PlayMixGames</a>
        <h1 class="game-title">ğŸ” Burger Stack 3D</h1>
        <div class="score-display">
            <span id="score">0</span>
        </div>
    </header>

    <!-- RIGHT SIDE ADSTERRA BANNER (Desktop Only) -->
    <div id="adsterra-banner">
        <!-- Script will be injected here by game.js after 2s -->
    </div>

    <!-- Game Container -->
    <div id="game-container">
        <!-- Instructions Panel (Left Side) -->
        <div id="instructions-panel">
            <div class="panel-content">
                <h2 class="panel-title">ğŸ” Burger Stack 3D</h2>
                <h3 class="panel-subtitle">Build the Ultimate Burger!</h3>

                <div class="instructions-section">
                    <h4>How to Play</h4>
                    <div class="instruction-item">
                        <span class="instruction-icon">ğŸ‘†</span>
                        <div class="instruction-text">
                            <strong>Tap to Stack</strong><br>
                            <small>Click/tap to drop ingredients</small>
                        </div>
                    </div>
                    <div class="instruction-item">
                        <span class="instruction-icon">ğŸ¯</span>
                        <div class="instruction-text">
                            <strong>Perfect Alignment</strong><br>
                            <small>Align perfectly for bonus points</small>
                        </div>
                    </div>
                    <div class="instruction-item">
                        <span class="instruction-icon">ğŸ“</span>
                        <div class="instruction-text">
                            <strong>Stay Centered</strong><br>
                            <small>Overhang gets trimmed off</small>
                        </div>
                    </div>
                    <div class="instruction-item">
                        <span class="instruction-icon">ğŸ†</span>
                        <div class="instruction-text">
                            <strong>Build High</strong><br>
                            <small>Stack as many as you can!</small>
                        </div>
                    </div>
                </div>

                <div class="tips-section">
                    <h4>Pro Tips</h4>
                    <p>â€¢ Watch the ingredient movement</p>
                    <p>â€¢ Time your taps perfectly</p>
                    <p>â€¢ Perfect stacks = bonus points</p>
                    <p>â€¢ Build the tallest burger!</p>
                </div>

                <div class="ingredients-section">
                    <h4>Ingredients</h4>
                    <div class="ingredient-list">
                        <span>ğŸ Bun</span>
                        <span>ğŸ¥© Patty</span>
                        <span>ğŸ§€ Cheese</span>
                        <span>ğŸ¥¬ Lettuce</span>
                        <span>ğŸ… Tomato</span>
                        <span>ğŸ¥“ Bacon</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="overlay-screen hidden">
            <div class="screen-content">
                <h1 class="title-main">Game Over!</h1>
                <h2 class="title-sub">Your Burger Tower Fell!</h2>
                <div class="final-stats">
                    <div class="stat-item">
                        <span class="stat-label">Height</span>
                        <span class="stat-value" id="final-height">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Score</span>
                        <span class="stat-value" id="final-score">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Perfect Stacks</span>
                        <span class="stat-value" id="final-perfects">0</span>
                    </div>
                </div>
                <button id="restart-btn" class="game-btn primary-btn">
                    ğŸ” Stack Again
                </button>
                <button id="home-btn" class="game-btn secondary-btn">
                    ğŸ  Home
                </button>
            </div>
        </div>

        <!-- Game HUD -->
        <div id="game-hud" class="hidden">
            <div class="hud-top">
                <div class="hud-item">
                    <span class="hud-label">Height</span>
                    <span class="hud-value" id="height">0</span>
                </div>
                <div class="hud-item">
                    <span class="hud-label">Perfect</span>
                    <span class="hud-value" id="perfect-count">0</span>
                </div>
                <div class="hud-item">
                    <span class="hud-label">Combo</span>
                    <span class="hud-value" id="combo">0</span>
                </div>
            </div>
        </div>

        <!-- Perfect Stack Notification -->
        <div id="perfect-notification" class="hidden">
            <span class="perfect-text">PERFECT! ğŸ¯</span>
            <span class="perfect-bonus">+50</span>
        </div>

        <!-- Canvas -->
        <canvas id="game-canvas"></canvas>

        <!-- Particle Container -->
        <div id="particle-container"></div>
    </div>

    <!-- Banner Ad Container -->
    <div id="banner-ad-container" style="text-align: center; margin: 20px auto; max-width: 728px;">
        <div id="banner-ad"></div>
    </div>

    <!-- Game Script -->
    <script src="game.js"></script>

    <!-- Bottom Banner Ad -->
    <div id="bottom-ad"></div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const container = document.getElementById("bottom-ad");

            function loadBanner() {
                if (typeof shouldLoadAds === "function" && !shouldLoadAds()) {
                    console.log("ğŸš§ [ADS] Banner skipped");
                    return;
                }

                if (!container) {
                    console.log("âŒ bottom-ad container missing");
                    return;
                }

                container.innerHTML = '<div id="banner-slot"></div>';
                const slot = document.getElementById("banner-slot");

                window.atOptions = {
                    key: "de617c07128b585ef939154460e6858f",
                    format: "iframe",
                    height: 50,
                    width: 320,
                    params: {}
                };

                const s = document.createElement("script");
                s.src = "https://www.highperformanceformat.com/de617c07128b585ef939154460e6858f/invoke.js";
                slot.appendChild(s);

                console.log("âœ… Banner loaded");
            }

            if (window.DEV_MODE) {
                return;
            }
            setTimeout(loadBanner, 2000);
        });
    </script>

    <!-- SEO: About Game & How to Play Section -->
    <section id="game-info" style="background: #f8f9fa; padding: 40px 20px; margin-top: 40px; text-align: center;">
        <div style="max-width: 900px; margin: 0 auto;">
            <h2 style="font-size: 2rem; color: #333; margin-bottom: 20px;">ğŸ” About Burger Stack 3D</h2>
            <p style="font-size: 1.1rem; color: #555; line-height: 1.6; margin-bottom: 30px;">
                Burger Stack 3D is an exciting stacking puzzle game where you carefully place burger ingredients to
                build the perfect tower.
                Balance, strategy, and precision are key as you stack burgers higher and higher. Challenge yourself to
                reach new heights and
                unlock delicious rewards in this fun and engaging 3D gameplay experience.
            </p>

            <h3 style="font-size: 1.5rem; color: #333; margin-bottom: 15px;">ğŸ® How to Play</h3>
            <ul
                style="font-size: 1rem; color: #555; text-align: left; display: inline-block; line-height: 2; margin-bottom: 60px;">
                <li>âœ… Tap and drag to position burger ingredients</li>
                <li>âœ… Stack ingredients carefully to keep the tower balanced</li>
                <li>âœ… Complete each level by stacking all ingredients</li>
                <li>âœ… Avoid dropping items or the tower topples</li>
                <li>âœ… Progress through increasingly challenging burger recipes</li>
            </ul>
        </div>
    </section>

</body>

</html>